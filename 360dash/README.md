# 360dash

360dash  is based on [dashc](https://github.com/uccmisl/dashc) and the work done in [Magnus master thesis](http://hdl.handle.net/10852/81516) but specifically engineered to run from a Monroe probe. We configured 360dash to stream a dash video/url for a specified amount of time (or until the video is finished).   

360dash provides a configurable experiment template to enable dash video measurements. We can configure each measurement by controlling (i) the network to test (Ethernet, or an MBB interface), (ii) the video stream to use and optionally (iii) the duration of the experiment. A combination of these parameters builds an experiment setup. While streaming 350dash records multiple metrics related to the video stream such as current buffer level, number of stalls etc.

## Input
The default input values are:
```json
{
  "zmqport": "tcp://172.17.0.1:5556",
  "guid": "fake.guid",  # Need to be overriden
  "nodeid": "virtual",
  "metadata_topic": "MONROE.META",
  "dataid": "5GENESIS.EXP.DASHC",
  "dataversion": 1,
  "verbosity": 2,  # 0 = "Mute", 1=error, 2=Information, 3=verbose
  "resultdir": "/monroe/results/",
  "flatten_delimiter": '.',
  "allowed_interfaces": ["ens160", "ens192", "eth0"],
  "url": "http://panoplay.duckdns.org/abs/stream/out.mpd",
  "duration": 900 # If 0 or less wait until video is done
}
```
Using the above inputs (default), the 360dash will download a example 360 video over each allowed interface in sequence (if the interface is available). All fields in the output are flattened to be compatible with InfluxDB.

## Output

An example of produced output with duration set to 10 seconds, all other values set to the default, is provided below.
```json
{
    "DataId": "5GENESIS.EXP.DASHC",
    "DataVersion": 1,
    "Guid": "fake.guid",
    "Interface": "eth0",
    "NodeId": "virtual",
    "Results.0.Act_Rate": 2250,
    "Results.0.Arr_time": 925,
    "Results.0.Buff_Leveltimestamp": 2.0,
    "Results.0.Byte_Size": 562644,
    "Results.0.Del_Rate": 4861,
    "Results.0.Del_Time": 925,
    "Results.0.Rep_Level": 2038,
    "Results.0.Seg_#": 1,
    "Results.0.Stall_Dur": 0,
    "Results.1.Act_Rate": 2054,
    "Results.1.Arr_time": 1476,
    "Results.1.Buff_Leveltimestamp": 4.0,
    "Results.1.Byte_Size": 513736,
    "Results.1.Del_Rate": 7464,
    "Results.1.Del_Time": 550,
    "Results.1.Rep_Level": 2038,
    "Results.1.Seg_#": 2,
    "Results.1.Stall_Dur": 0,
    "Results.10.Act_Rate": 2218,
    "Results.10.Arr_time": 5553,
    "Results.10.Buff_Leveltimestamp": 17.925,
    "Results.10.Byte_Size": 554516,
    "Results.10.Del_Rate": 9143,
    "Results.10.Del_Time": 485,
    "Results.10.Rep_Level": 2038,
    "Results.10.Seg_#": 11,
    "Results.10.Stall_Dur": 0,
    "Results.11.Act_Rate": 2122,
    "Results.11.Arr_time": 6021,
    "Results.11.Buff_Leveltimestamp": 19.456,
    "Results.11.Byte_Size": 530516,
    "Results.11.Del_Rate": 9066,
    "Results.11.Del_Time": 468,
    "Results.11.Rep_Level": 2038,
    "Results.11.Seg_#": 12,
    "Results.11.Stall_Dur": 0,
    "Results.12.Act_Rate": 2201,
    "Results.12.Arr_time": 6504,
    "Results.12.Buff_Leveltimestamp": 20.973,
    "Results.12.Byte_Size": 550450,
    "Results.12.Del_Rate": 9112,
    "Results.12.Del_Time": 483,
    "Results.12.Rep_Level": 2038,
    "Results.12.Seg_#": 13,
    "Results.12.Stall_Dur": 0,
    "Results.13.Act_Rate": 2088,
    "Results.13.Arr_time": 6963,
    "Results.13.Buff_Leveltimestamp": 22.514,
    "Results.13.Byte_Size": 522246,
    "Results.13.Del_Rate": 9107,
    "Results.13.Del_Time": 458,
    "Results.13.Rep_Level": 2038,
    "Results.13.Seg_#": 14,
    "Results.13.Stall_Dur": 0,
    "Results.14.Act_Rate": 2064,
    "Results.14.Arr_time": 7417,
    "Results.14.Buff_Leveltimestamp": 24.061,
    "Results.14.Byte_Size": 516183,
    "Results.14.Del_Rate": 9107,
    "Results.14.Del_Time": 453,
    "Results.14.Rep_Level": 2038,
    "Results.14.Seg_#": 15,
    "Results.14.Stall_Dur": 0,
    "Results.15.Act_Rate": 2189,
    "Results.15.Arr_time": 7896,
    "Results.15.Buff_Leveltimestamp": 25.581,
    "Results.15.Byte_Size": 547310,
    "Results.15.Del_Rate": 9130,
    "Results.15.Del_Time": 479,
    "Results.15.Rep_Level": 2038,
    "Results.15.Seg_#": 16,
    "Results.15.Stall_Dur": 0,
    "Results.16.Act_Rate": 2475,
    "Results.16.Arr_time": 8442,
    "Results.16.Buff_Leveltimestamp": 27.036,
    "Results.16.Byte_Size": 618768,
    "Results.16.Del_Rate": 9078,
    "Results.16.Del_Time": 545,
    "Results.16.Rep_Level": 2038,
    "Results.16.Seg_#": 17,
    "Results.16.Stall_Dur": 0,
    "Results.17.Act_Rate": 1174,
    "Results.17.Arr_time": 8700,
    "Results.17.Buff_Leveltimestamp": 28.778,
    "Results.17.Byte_Size": 293543,
    "Results.17.Del_Rate": 9090,
    "Results.17.Del_Time": 258,
    "Results.17.Rep_Level": 2038,
    "Results.17.Seg_#": 18,
    "Results.17.Stall_Dur": 0,
    "Results.18.Act_Rate": 2054,
    "Results.18.Arr_time": 9148,
    "Results.18.Buff_Leveltimestamp": 30.331,
    "Results.18.Byte_Size": 513736,
    "Results.18.Del_Rate": 9191,
    "Results.18.Del_Time": 447,
    "Results.18.Rep_Level": 2038,
    "Results.18.Seg_#": 19,
    "Results.18.Stall_Dur": 0,
    "Results.2.Act_Rate": 1990,
    "Results.2.Arr_time": 1910,
    "Results.2.Buff_Leveltimestamp": 5.566,
    "Results.2.Byte_Size": 497737,
    "Results.2.Del_Rate": 9185,
    "Results.2.Del_Time": 433,
    "Results.2.Rep_Level": 2038,
    "Results.2.Seg_#": 3,
    "Results.2.Stall_Dur": 0,
    "Results.3.Act_Rate": 1970,
    "Results.3.Arr_time": 2345,
    "Results.3.Buff_Leveltimestamp": 7.132,
    "Results.3.Byte_Size": 492558,
    "Results.3.Del_Rate": 9063,
    "Results.3.Del_Time": 434,
    "Results.3.Rep_Level": 2038,
    "Results.3.Seg_#": 4,
    "Results.3.Stall_Dur": 0,
    "Results.4.Act_Rate": 1965,
    "Results.4.Arr_time": 2774,
    "Results.4.Buff_Leveltimestamp": 8.703,
    "Results.4.Byte_Size": 491391,
    "Results.4.Del_Rate": 9160,
    "Results.4.Del_Time": 429,
    "Results.4.Rep_Level": 2038,
    "Results.4.Seg_#": 5,
    "Results.4.Stall_Dur": 0,
    "Results.5.Act_Rate": 2144,
    "Results.5.Arr_time": 3244,
    "Results.5.Buff_Leveltimestamp": 10.232,
    "Results.5.Byte_Size": 536147,
    "Results.5.Del_Rate": 9118,
    "Results.5.Del_Time": 470,
    "Results.5.Rep_Level": 2038,
    "Results.5.Seg_#": 6,
    "Results.5.Stall_Dur": 0,
    "Results.6.Act_Rate": 2105,
    "Results.6.Arr_time": 3707,
    "Results.6.Buff_Leveltimestamp": 11.77,
    "Results.6.Byte_Size": 526443,
    "Results.6.Del_Rate": 9113,
    "Results.6.Del_Time": 462,
    "Results.6.Rep_Level": 2038,
    "Results.6.Seg_#": 7,
    "Results.6.Stall_Dur": 0,
    "Results.7.Act_Rate": 1997,
    "Results.7.Arr_time": 4149,
    "Results.7.Buff_Leveltimestamp": 13.328,
    "Results.7.Byte_Size": 499318,
    "Results.7.Del_Rate": 9038,
    "Results.7.Del_Time": 441,
    "Results.7.Rep_Level": 2038,
    "Results.7.Seg_#": 8,
    "Results.7.Stall_Dur": 0,
    "Results.8.Act_Rate": 1995,
    "Results.8.Arr_time": 4584,
    "Results.8.Buff_Leveltimestamp": 14.893,
    "Results.8.Byte_Size": 498868,
    "Results.8.Del_Rate": 9165,
    "Results.8.Del_Time": 435,
    "Results.8.Rep_Level": 2038,
    "Results.8.Seg_#": 9,
    "Results.8.Stall_Dur": 0,
    "Results.9.Act_Rate": 2197,
    "Results.9.Arr_time": 5067,
    "Results.9.Buff_Leveltimestamp": 16.41,
    "Results.9.Byte_Size": 549462,
    "Results.9.Del_Rate": 9100,
    "Results.9.Del_Time": 483,
    "Results.9.Rep_Level": 2038,
    "Results.9.Seg_#": 10,
    "Results.9.Stall_Dur": 0,
    "Timestamp": 1615450344.472974
}
```
